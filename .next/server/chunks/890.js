"use strict";exports.id=890,exports.ids=[890],exports.modules={9561:(e,t,r)=>{r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Dev\\\\allamericanhaulin-main\\\\src\\\\components\\\\contact-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Dev\\allamericanhaulin-main\\src\\components\\contact-form.tsx","default")},14646:(e,t,r)=>{r.d(t,{P2:()=>a,Q2:()=>o,Sv:()=>n});let n="916-500-4060",o="916-500-4060",a={addr:"",city:"Citrus Heights",state:"CA",zip:"95610",country:"US"}},46988:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(37413),o=r(67218);r(79130);var a=r(83476),s=r(59699),c=r(4536),l=r.n(c);async function i({phoneNumber:e}){return(0,n.jsxs)("div",{className:"w-full h-full gap-4 flex flex-col content-center items-center justify-center justify-items-center",children:[(0,n.jsx)("p",{className:"w-full h-full text-white text-3xl font-bold md:text-5xl",children:e}),(0,n.jsxs)("div",{className:"w-full h-full gap-4 flex flex-col content-center items-center justify-center justify-items-center sm:hidden",children:[(0,n.jsxs)(l(),{id:"text-button",href:`sms:+1 ${e}`,target:"_self",className:"w-full h-full p-2 gap-2 flex flex-col content-center items-center justify-center justify-items-center text-white bg-red-600 border border-red-600 rounded-lg shadow-md ease-in-out duration-100 hover:scale-101",children:[(0,n.jsx)(a.A,{className:"size-30"}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-2 sm:w-2/3",children:[(0,n.jsx)("p",{className:"font-bold text-2xl text-center border-b-1",children:"Click to Text Us"}),(0,n.jsx)("p",{className:"text-center",children:e}),(0,n.jsx)("p",{className:"text-center",children:"Text for a free quote!"})]})]}),(0,n.jsxs)(l(),{id:"call-button",href:`tel:+1 ${e}`,target:"_self",className:"w-full h-full p-2 gap-2 flex flex-col content-center items-center justify-center justify-items-center text-white bg-red-600 border border-red-600 rounded-lg shadow-md ease-in-out duration-100 hover:scale-101",children:[(0,n.jsx)(s.A,{className:"size-30"}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-2 sm:w-2/3",children:[(0,n.jsx)("p",{className:"font-bold text-2xl text-center border-b-1",children:"Click to Call Us"}),(0,n.jsx)("p",{className:"text-center",children:e}),(0,n.jsx)("p",{className:"text-center",children:"Call for a free quote!"})]})]})]})]})}(0,r(17478).D)([i]),(0,o.A)(i,"40775a8cb18e6d41ddd2be3f251afc24d5f263f0ba",null)},51333:(e,t,r)=>{r.r(t),r.d(t,{"40074f2fa621cd135a58a4db449897a51bb532070e":()=>E,"4050512631fafe221dd33b05da34acda8a0ffeaaf8":()=>L});var n=r(91199);r(42087);var o=r(33331);let a=async e=>(console.warn("googleEmail: Using placeholder implementation",e),{success:!0,message:"Email placeholder"}),s=async e=>(console.warn("googleAddEvent: Using placeholder implementation",e),{success:!0,eventId:"placeholder-event-id"}),c=async e=>(console.warn("googleListEvents: Using placeholder implementation",e),[]);(0,o.D)([a,s,c]),(0,n.A)(a,"7f6c48c4df1f2c7262826eb29c00fd9206d3382bb2",null),(0,n.A)(s,"7f95f176767bdbfb385dd9bb30f77a17da5fbbf621",null),(0,n.A)(c,"7fc4e6d0941b29452bbf7d80efd5a6bc576ce55dee",null);var l=r(41205),i=r(51556),d=r(86776),m=r(25954),f=r(76007);async function u({firstName:e,lastName:t,email:r,phone:n,message:o,datetime:a}){try{let{GOOGLE_CLIENT_ID:c,GOOGLE_CLIENT_SECRET:i,GOOGLE_CALENDAR_REFRESH_TOKEN:d,GOOGLE_USERNAME:m}=process.env,f=new Date(a);await s({clientId:c,clientSecret:i,refreshToken:d,status:"confirmed",summary:"Hoppe Home Loans",description:`${o} ${[e,t].join(" ")}'s email: ${r} and phone: ${n}.`,creator:{email:"prichardson@hoppehomeloans.com",self:!0},attendees:[{email:m,displayName:"Paul Richardson",organizer:!0,responseStatus:"accepted"},{email:r,displayName:[e,t].join(" "),organizer:!1,responseStatus:"accepted"}],startDateTime:f.toISOString(),endDateTime:(0,l.z)(f,60).toISOString(),timeZone:"America/Los_Angeles"})}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured.")}}async function h({start:e,end:t,step:r}){function n({zuluTime:e,timeZone:t="America/Los_Angeles"}){let r=new Date(e.toLocaleString("en-us",{timeZone:t}));return Math.round(e.valueOf()-r.valueOf())}let o={"2020-01-01":["2020-01-01 00:00:00"]};try{let{GOOGLE_CLIENT_ID:a,GOOGLE_CLIENT_SECRET:s,GOOGLE_CALENDAR_REFRESH_TOKEN:u,GOOGLE_USERNAME:h}=process.env,p=await c({clientId:a,clientSecret:s,refreshToken:u,calendarId:h}),g=(0,d.G)({start:new Date(e),end:new Date(t)},{step:r}).filter(e=>(function(e){let t=new Date(e.toLocaleString("en-us",{timeZone:"America/Los_Angeles"})),r=n({zuluTime:e})*(1/36e5),o=[13+r,16+r<24?16+r:0],a=!1;return!(0,i.c)(t)&&(o[0]<=o[1]?e.getHours()>=o[0]&&e.getHours()<=o[1]&&(a=!0):(e.getHours()>=o[0]||e.getHours()<=o[1])&&(a=!0)),a})(e)).map(e=>e).filter(e=>!p.map(t=>(0,m.i)(t,{start:e,end:(0,l.z)(e,60)})).some(e=>e)).map(e=>e.toLocaleString("en-us",{timeZone:"America/Los_Angeles"}));for(let e of(o=Object.groupBy(g,e=>(0,f.GP)(new Date(e),"yyyy-MM-dd")),Object.keys(o)))o[e]=o[e].map(e=>new Date(new Date(e).valueOf()+n({zuluTime:new Date(e),timeZone:"America/Los_Angeles"})).toISOString())}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured.")}return o}async function p({to:e,subject:t,data:r}){try{let{GOOGLE_CLIENT_ID:n,GOOGLE_CLIENT_SECRET:o,GOOGLE_EMAIL_REFRESH_TOKEN:s,GOOGLE_USERNAME:c}=process.env;await a({data:r,clientId:n,clientSecret:o,refreshToken:s,subject:t,from:c,to:e??c})}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured.")}}(0,o.D)([u,h]),(0,n.A)(u,"4061dd19143f4c0925feb41dd0050a0555053078ca",null),(0,n.A)(h,"403e0b33237ec40d3df903cede9f00f3556bd3bcab",null),(0,o.D)([p]),(0,n.A)(p,"408acb8fb6b49592dea9d18647bc017b4a370e8d22",null);var g=r(74208),b=r(74932);(0,b.registerClientReference)(function(){throw Error("Attempted to call Turnstile() from the server but Turnstile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Dev\\allamericanhaulin-main\\src\\lib\\cloudflare.tsx","Turnstile");let x=(0,b.registerClientReference)(function(){throw Error("Attempted to call verifyHuman() from the server but verifyHuman is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Dev\\allamericanhaulin-main\\src\\lib\\cloudflare.tsx","verifyHuman");async function w(e){let t=!1;try{let{CLOUDFLARE_TURNSTILE_CONTACT_FORM_SECRET_KEY:r}=process.env,n=(await (0,g.b3)()).get("cf-connecting-ip")??"";t=await x({secret:r,token:e,ip:n})}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured."),t=!1}return t}async function y(e){let t=!1;try{let{CLOUDFLARE_TURNSTILE_CALENDAR_FORM_SECRET_KEY:r}=process.env,n=(await (0,g.b3)()).get("cf-connecting-ip")??"";t=await x({secret:r,token:e,ip:n})}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured."),t=!1}return t}(0,o.D)([w,y]),(0,n.A)(w,"4069bcc0310e0d6be9e4c5b0e09b1a9a3ecde89d2e",null),(0,n.A)(y,"40ca79ded041717723e8350ea9d454ba5511fcbb23",null);let v="https://services.leadconnectorhq.com";function j(){let e=process.env.GHL_API_KEY;if(!e)throw Error("GHL_API_KEY environment variable is not set");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}}async function N(e){try{let t=process.env.GHL_LOCATION_ID;if(!t)throw Error("GHL_LOCATION_ID environment variable is not set");let r={firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,source:e.source||"Website Contact Form",tags:e.tags||["Website Lead","Junk Hauling"],customFields:e.message?[{key:"message",field_value:e.message}]:[]},n=await fetch(`${v}/v1/contacts/`,{method:"POST",headers:j(),body:JSON.stringify({...r,locationId:t})});if(!n.ok){let e=await n.text();throw console.error("GHL API Error:",n.status,e),Error(`GHL API request failed: ${n.status}`)}let o=await n.json();return{success:!0,contactId:o.contact?.id||o.id}}catch(e){return console.error("Error creating GHL contact:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function A(e){try{let t=await N({...e,source:"Website Appointment Form",tags:["Website Lead","Junk Hauling","Appointment Scheduled"]});if(!t.success||!t.contactId)return t;let r=process.env.GHL_LOCATION_ID;if(!r)throw Error("GHL_LOCATION_ID environment variable is not set");let n={title:`Junk Hauling Consultation - ${e.firstName} ${e.lastName}`,contactId:t.contactId,locationId:r,startTime:e.datetime,appointmentStatus:"confirmed",notes:e.message||"Appointment scheduled through website"},o=await fetch(`${v}/v1/appointments/`,{method:"POST",headers:j(),body:JSON.stringify(n)});if(!o.ok){let e=await o.text();console.error("GHL Appointment API Error:",o.status,e),console.warn("Contact created but appointment creation failed")}return{success:!0,contactId:t.contactId}}catch(e){return console.error("Error creating GHL appointment:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function S(e,t){try{let r=await fetch(`${v}/v1/contacts/${e}/tags`,{method:"POST",headers:j(),body:JSON.stringify({tags:t})});if(!r.ok){let e=await r.text();throw console.error("GHL Tags API Error:",r.status,e),Error(`GHL Tags API request failed: ${r.status}`)}return{success:!0}}catch(e){return console.error("Error adding tags to GHL contact:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function C(e,t){try{let r=await fetch(`${v}/v1/contacts/${e}/notes`,{method:"POST",headers:j(),body:JSON.stringify({body:t,userId:process.env.GHL_USER_ID||"system"})});if(!r.ok){let e=await r.text();throw console.error("GHL Notes API Error:",r.status,e),Error(`GHL Notes API request failed: ${r.status}`)}return{success:!0}}catch(e){return console.error("Error creating GHL contact note:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function L(e){try{let t=e.get("cf-turnstile-response")?.toString(),r=e.get("calendar-form-first-name")?.toString(),n=e.get("calendar-form-last-name")?.toString(),o=e.get("calendar-form-email")?.toString(),a=e.get("calendar-form-phone")?.toString(),s=e.get("calendar-form-message")?.toString(),c=e.get("calendar-form-appointment")?.toString();if(t&&r&&n&&o&&a&&s&&c)if(await y(t)){await u({firstName:r,lastName:n,email:o,phone:a,message:s,datetime:c}),await p({to:"allamericanhaulin@gmail.com",subject:"Calendar Form Submitted",data:{firstName:r,lastName:n,email:o,phone:a,message:s}});let e=await A({firstName:r,lastName:n,email:o,phone:a,message:s,datetime:c});e.success||console.error("Failed to create GHL appointment:",e.error)}else throw Error("Unable to book appointment.");else throw Error("Unable to book appointment.")}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured.")}}async function E(e){try{let t=e.get("cf-turnstile-response")?.toString(),r=e.get("contact-form-first-name")?.toString(),n=e.get("contact-form-last-name")?.toString(),o=e.get("contact-form-email")?.toString(),a=e.get("contact-form-phone")?.toString(),s=e.get("contact-form-message")?.toString();if(t&&r&&n&&o&&a&&s)if(await w(t)){await p({to:"allamericanhaulin@gmail.com",subject:"Contact Form Submitted",data:{firstName:r,lastName:n,email:o,phone:a,message:s}});let e=await N({firstName:r,lastName:n,email:o,phone:a,message:s,source:"Website Contact Form",tags:["Website Lead","Junk Hauling","Contact Form"]});e.success||console.error("Failed to create GHL contact:",e.error)}else throw Error("Unable to send contact form.");else throw Error("Unable to send contact form.")}catch(e){e instanceof Error?console.error(e.message):console.error("Unknown error occured.")}}(0,o.D)([N,A,S,C]),(0,n.A)(N,"40317d873458a26f281a68fd45ef9874644a7848c3",null),(0,n.A)(A,"4097014305d94adb23ac3e1f34cd1b71386d0070f5",null),(0,n.A)(S,"60897ac82ca13a793c33259f2f04caa04a86cfb19a",null),(0,n.A)(C,"607f0404c6876dbe148a865fee4348e1c1ba2eeda9",null),(0,o.D)([L,E]),(0,n.A)(L,"4050512631fafe221dd33b05da34acda8a0ffeaaf8",null),(0,n.A)(E,"40074f2fa621cd135a58a4db449897a51bb532070e",null)},69146:(e,t,r)=>{r.d(t,{default:()=>d});var n=r(60687),o=r(43210),a=r(81836),s=r(14689),c=r(57008),l=r(6475);let i=(0,l.createServerReference)("40074f2fa621cd135a58a4db449897a51bb532070e",l.callServer,void 0,l.findSourceMapURL,"handleContactFormSubmit");function d(){let e=(0,o.useRef)(null),[t,r]=(0,o.useState)(null),[l,d]=(0,o.useState)(""),m=()=>{e.current&&(e.current.hasAttribute("open")?(e.current.close(),window.location.reload()):e.current.showModal())};return(0,n.jsx)("div",{id:"contact-form",className:"text-base xl:text-lg",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.lG,{id:"contact-form-submit-success",ref:e,onClick:t=>{t.stopPropagation(),e.current&&t.target===e.current&&m()},children:(0,n.jsxs)("div",{className:"w-full h-fit flex flex-col gap-2 content-center items-center justify-center justify-items-center text-center",children:[(0,n.jsx)("div",{className:"w-full h-fit flex content-center items-center justify-end justify-items-center",children:(0,n.jsx)("button",{type:"button",onClick:m,className:"w-fit h-fit cursor-pointer ease-in-out duration-100 hover:scale-101",children:(0,n.jsx)(a.A,{className:"size-6"})})}),(0,n.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:(0,n.jsx)(s.A,{className:"h-6 w-6 text-green-600"})}),(0,n.jsx)("h3",{className:"w-full h-fit relative font-bold px-2",children:"Success"}),(0,n.jsx)("p",{className:"w-full h-fit",children:"Thank you for contacting Hoppe Home Loans. Someone will reach out to you soon."})]})}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 p-4 content-center items-center justify-center justify-items-center text-center w-full h-full ",children:[(0,n.jsx)("div",{className:"w-full h-full flex flex-col gap-4 content-center items-center justify-center justify-items-center text-center",children:(0,n.jsx)("div",{className:"text-center text-2xl font-semibold",children:"Contact All American Haulin"})}),(0,n.jsxs)(c.lV,{onSubmit:()=>{window?.gtag&&window.gtag("event","contact_form_submit"),m()},action:i,id:"submit-contact-form",name:"submit-contact-form",children:[(0,n.jsxs)("div",{className:"w-full gap-4 flex flex-col content-center items-center justify-center justify-items-center md:flex-row",children:[(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(c.JU,{htmlFor:"contact-form-first-name",children:"First name"}),(0,n.jsx)(c.pd,{id:"contact-form-first-name",name:"contact-form-first-name",type:"text",required:!0,maxLength:50,autoComplete:"given-name",placeholder:"John",className:"focus:border-secondary-medium focus:ring-secondary-medium"})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(c.JU,{htmlFor:"contact-form-last-name",children:"Last name"}),(0,n.jsx)(c.pd,{id:"contact-form-last-name",name:"contact-form-last-name",type:"text",required:!0,maxLength:50,autoComplete:"family-name",placeholder:"Smith",className:"focus:border-secondary-medium focus:ring-secondary-medium"})]})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(c.JU,{htmlFor:"contact-form-email",children:"Email address"}),(0,n.jsx)(c.pd,{id:"contact-form-email",name:"contact-form-email",type:"email",required:!0,maxLength:50,autoComplete:"email",placeholder:"jsmith@example.com",className:"focus:border-secondary-medium focus:ring-secondary-medium"})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(c.JU,{htmlFor:"contact-form-phone",children:"Phone number"}),(0,n.jsx)(c.pd,{id:"contact-form-phone",name:"contact-form-phone",type:"tel",required:!0,maxLength:12,autoComplete:"tel-national",placeholder:"555-555-5555",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",className:"focus:border-secondary-medium focus:ring-secondary-medium",onChange:e=>{e.stopPropagation();let t=e.currentTarget.value.replace(/-/g,""),r=t;switch(!0){case t.length>=4&&t.length<7:r=t.slice(0,3)+"-"+t.slice(3);break;case t.length>=7:r=t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}d(r)},value:l})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(c.JU,{htmlFor:"contact-form-message",className:"block font-medium text-gray-900",children:"Message"}),(0,n.jsx)("textarea",{id:"contact-form-message",name:"contact-form-message",autoCapitalize:"sentences",autoCorrect:"on",spellCheck:!0,rows:5,required:!0,maxLength:300,autoComplete:"off",placeholder:"I have a quick question about ...",className:"block w-full px-3 py-2 text-gray-900 bg-white rounded-md outline-none border border-gray-300 focus:border-secondary-medium focus:ring-secondary-medium focus:ring-2 placeholder:text-gray-400"})]}),t,(0,n.jsx)(c.$n,{id:"contact-form-submit-button",name:"contact-form-submit-button",type:"submit",className:"ease-in-out duration-100 hover:scale-101 rounded-lg bg-red-600 border-red-600 hover:bg-red-400 hover:border-red-400 active:bg-red-900 active:border-red-900",children:"Contact"})]})]})]})})}}};